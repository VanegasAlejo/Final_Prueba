<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Barrio La Macarena - Bogotá</title>

  <style>
    /* === FUENTE Y ESTILO GENERAL === */
    body {
      font-family: "Times New Roman", Times, serif;
      background-color: #f4f4f4;
      color: #333;
      margin: 0;
      padding: 0;
    }

    /* === ENCABEZADO === */
    #header {
      position: relative;
      width: 100%;
      padding: 20px 30px;
      background-color: #FFEFD4;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      z-index: 10;
    }

    #header-wrapper {
      display: flex;
      align-items: center;
    }

    #logo {
      height: 120px;
      border-radius: 8px;
      margin-right: 15px;
      flex-shrink: 0;
    }

    #title-container {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: -1;
      width: auto;
    }

    #title-container h1 {
      margin: 0;
      font-size: 3em;
      color: #333;
    }

    #title-container p {
      margin: 5px 0 0;
      font-size: 2em;
      color: #555;
    }

    /* === MAPA === */
    #map {
      width: 90%;
      height: 80vh;
      border: 2px solid #5d4037;
      border-radius: 10px;
      margin: 30px auto;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    /* === ESTILO DEL POPUP === */
    .info-barrio {
      max-width: 320px;
      font-size: 15px;
    }

    .info-barrio h3 {
      margin-top: 0;
      color: #5d4037;
    }

    .info-barrio p {
      margin: 5px 0;
    }
  </style>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>

  <!-- ENCABEZADO CON LOGO Y TÍTULO CENTRADO -->
  <div id="header">
    <div id="header-wrapper">
      <a href="../index.html">
      <img src="logo.png" alt="Logo" id="logo">
    </a>
      <div id="title-container">
        <h1>Ámbar</h1>
        <p>Barrio La Macarena - Bogotá</p>
      </div>
    </div>
  </div>

  <!-- MAPA -->
  <div id="map"></div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Script del mapa -->
  <script>
  // Datos GeoJSON del barrio La Macarena (incrustado)
  const barrioData = {
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "properties": {
          "nombre": "LA MACARENA",
          "codigo_bar": "008105",
          "codigo_upz": "91",
          "codigo_loc": "3",
          "shape_area": 155717.22,
          "shape_len": 1700.31
        },
        "geometry": {
          "type": "Polygon",
          "coordinates": [
            [
              [-74.065095077682756, 4.612536914826566],
              [-74.065089852159616, 4.6125498406894527],
              [-74.064979738138859, 4.6128101651902575],
              [-74.064910172245831, 4.6129849808161199],
              [-74.064772751688992, 4.6133292789446267],
              [-74.064739776736616, 4.6133849909077123],
              [-74.064444957167879, 4.6138830902737],
              [-74.064281165744617, 4.614021556192486],
              [-74.064151791934293, 4.6141167269428163],
              [-74.063979353189936, 4.6142465138802891],
              [-74.063819253092674, 4.6143556668800718],
              [-74.063763672204445, 4.6143935611430456],
              [-74.063548068256281, 4.6146443816179135],
              [-74.06347903963362, 4.6148347450594782],
              [-74.063315127352311, 4.6152415025957323],
              [-74.063246182640441, 4.6154837526529322],
              [-74.063133994591169, 4.6157519409325998],
              [-74.063093786854509, 4.6158655254430432],
              [-74.063077583181538, 4.6159113003823089],
              [-74.063102806437186, 4.6159178117785569],
              [-74.063289007169615, 4.6159663756884024],
              [-74.063412962346177, 4.6159986611855741],
              [-74.064029580067157, 4.616159455217927],
              [-74.066241567702278, 4.6167765644426204],
              [-74.066267524246555, 4.6166795728192689],
              [-74.066520948219306, 4.6157572134479778],
              [-74.066760951236063, 4.6148287941791031],
              [-74.066909033014852, 4.6141833916422481],
              [-74.066911646715653, 4.614172454159573],
              [-74.067434016715211, 4.6120586290962509],
              [-74.067396362202714, 4.6120483198849369],
              [-74.065324815815302, 4.6115641118287938],
              [-74.065095077682756, 4.612536914826566]
            ]
          ]
        }
      }
    ]
  };

  // Inicializar el mapa
  document.addEventListener('DOMContentLoaded', function () {
    // Centrar en Bogotá con zoom de ciudad
    const map = L.map('map').setView([4.6097, -74.0817], 12);

    // Capa base
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Extraer el barrio
    const barrio = barrioData.features[0];
    const props = barrio.properties;

    // Contenido del popup
    const popupContent = `
      <div class="info-barrio">
        <h3>${props.nombre}</h3>
        <p><strong>Código:</strong> ${props.codigo_bar}</p>
        <p><strong>UPZ:</strong> ${props.codigo_upz}</p>
        <p><strong>Localidad:</strong> ${props.codigo_loc}</p>
        <p><strong>Área:</strong> ${(props.shape_area).toFixed(2)} m²</p>
        <p><strong>Perímetro:</strong> ${(props.shape_len / 1000).toFixed(2)} km</p>
        <p><em>Barrio histórico en el centro de Bogotá, con alta densidad cultural y patrimonial.</em></p>
      </div>
    `;

    // Crear el GeoJSON y vincular el popup
    const barrioLayer = L.geoJSON(barrio, {
      style: {
        color: '#8B4513',
        weight: 3,
        opacity: 0.8,
        fillColor: '#FFEFD4',
        fillOpacity: 0.5
      }
    })
    .bindPopup(popupContent)
    .addTo(map);

    // Abrir el popup automáticamente después de que el mapa esté listo
    setTimeout(() => {
      barrioLayer.openPopup();
    }, 1000);
  });
  </script>

</body>
</html>